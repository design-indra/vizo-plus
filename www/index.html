<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vizo+ - Premium Drama Streaming</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
</head>
<body>

    <div id="splash-screen">
        <img src="https://i.ibb.co.com/BV5v4L9j/1000196715.jpg" alt="Vizo Logo" class="splash-logo">
        <div class="loader"></div>
    </div>

    <div id="loginOverlay" class="overlay-full" style="display: none;">
        <div class="login-card">
            <img src="https://i.ibb.co.com/BV5v4L9j/1000196715.jpg" alt="Vizo Logo" style="width: 100px; margin-bottom: 20px;">
            <h2 id="authHeading">Masuk ke Vizo+</h2>
            <p id="authSubtext" style="color: #888; margin-bottom: 20px;">Nikmati drama tanpa batas</p>
            
            <input type="email" id="emailInput" placeholder="Email (contoh: user@vizo.com)">
            <input type="password" id="passInput" placeholder="Password (min. 6 karakter)">
            
            <button id="authBtn" class="play-main-btn" onclick="handleAuth()" style="width: 100%;">Masuk</button>
            
            <p style="margin-top: 20px; font-size: 13px; color: #ccc;">
                <span id="toggleText">Belum punya akun?</span> 
                <a href="javascript:void(0)" onclick="toggleAuthMode()" id="toggleLink" style="color: #e50914; text-decoration: none; font-weight: bold;">Daftar</a>
            </p>
        </div>
    </div>

    <div id="main-content" style="display:none;">
        <div id="sidebar" class="sidebar">
            <button class="close-sidebar" onclick="toggleSidebar()">Ã—</button>
            <div class="sidebar-header">
                <img src="https://i.ibb.co.com/BV5v4L9j/1000196715.jpg" alt="Vizo Logo">
            </div>
            <ul class="sidebar-menu">
                <li onclick="openMenu('profile')"><span>ğŸ‘¤</span> Profil Saya</li>
                <li onclick="openMenu('favorit')"><span>â­</span> Favorit</li>
                <li onclick="openMenu('download')"><span>ğŸ“¥</span> Download</li>
                <li class="premium-link"><span>ğŸ’</span> Vizo Premium</li>
                <li onclick="handleLogout()" style="color: #e50914; border: none; margin-top: 20px;"><span>ğŸšª</span> Keluar</li>
            </ul>
        </div>

        <header>
            <div class="header-top">
                <img src="https://i.ibb.co.com/BV5v4L9j/1000196715.jpg" alt="Vizo Logo" class="vizo-logo-small">
                <div style="display: flex; align-items: center; gap: 12px;">
                    <div class="user-avatar" onclick="openMenu('profile')">U</div>
                    <button class="menu-btn" onclick="toggleSidebar()">â˜°</button>
                </div>
            </div>
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="Cari drakor, c-drama..." onkeyup="handleSearch(event)">
            </div>
            <nav class="categories">
                <button class="cat-btn active" onclick="fetchLatest(this)">Terbaru</button>
                <button class="cat-btn" onclick="fetchTrending(this)">Populer</button>
                <div class="separator"></div>
                <button class="cat-btn" onclick="fetchDrama('ko', this)">K-Drama</button>
                <button class="cat-btn" onclick="fetchDrama('zh', this)">C-Drama</button>
                <button class="cat-btn" onclick="fetchDrama('th', this)">Thai</button>
            </nav>
        </header>

        <main id="movie-grid"></main>
        <div style="height: 80px;"></div>

        <div class="bottom-nav">
            <div class="nav-item active" onclick="location.reload()"><span>ğŸ </span><p>Beranda</p></div>
            <div class="nav-item" onclick="alert('Fitur segera hadir!')"><span>ğŸ”</span><p>Eksplor</p></div>
            <div class="nav-item" onclick="fetchTrending()"><span>ğŸ”¥</span><p>Populer</p></div>
            <div class="nav-item" onclick="openMenu('favorit')"><span>ğŸ“š</span><p>Koleksi</p></div>
        </div>
    </div>

    <div id="playerOverlay" class="overlay">
        <div class="overlay-content">
            <button class="close-btn" onclick="closePlayer()">Ã—</button>
            <div id="details-section" class="details-card">
                <h2 id="detailTitle"></h2>
                <div class="meta-info">â­ <span id="detailRating"></span> | <span id="detailYear"></span></div>
                <p id="detailOverview"></p>
                <div style="display: flex; gap: 10px; justify-content: center; margin-top: 10px;">
                    <button class="play-main-btn" onclick="startVideo()">PUTAR</button>
                    <button id="favBtn" class="fav-btn" onclick="handleFav()">â­ Favorit</button>
                </div>
            </div>
            <div id="video-wrapper" style="display:none;" class="iframe-wrapper">
                <iframe id="videoIframe" src="" allowfullscreen></iframe>
            </div>
        </div>
    </div>

    <div id="menuOverlay" class="overlay-full" style="display: none; background: #050505;">
        <div class="menu-container">
            <button class="close-btn" onclick="closeMenu()" style="position: absolute; top: 10px; right: 20px;">Ã—</button>
            <div id="profileSection" class="menu-page">
                <div class="user-avatar" style="width: 80px; height: 80px; font-size: 32px; margin: 0 auto 15px;">U</div>
                <h2 id="userNameDisplay" style="text-align: center;">User</h2>
                <p style="text-align: center; color: #ffd700;">ğŸ’ Premium Member</p>
            </div>
            <div id="favoritSection" class="menu-page">
                <h3>Favorit Saya</h3>
                <div id="fav-grid" class="mini-grid"></div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
